<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Content Negotiation :: causeway</title>
    <link rel="canonical" href="https://causeway.apache.org/vro/2.0.0-RC2/content-negotiation.html">
    <meta name="generator" content="Antora 3.1.1">
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="stylesheet" href="../../_/css/site-custom.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i|Raleway:300,400,500,700,800|Montserrat:300,400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/>
<link rel="home" href="https://causeway.apache.org" title="causeway">
  <link rel="next" href="content-negotiation/apache-causeway-v2-profile.html" title="Apache Causeway v2 Profile">
  <link rel="prev" href="ro-spec.html" title="RO Spec">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://causeway.apache.org">
          <span class="icon">
            <img src="../../_/img/causeway-logo-no-words-65x48.png"></img>
          </span>
        <span class="navbar-title">causeway</span>
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <a class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Quick Start</a>
          <div class="navbar-dropdown">
            <span class="navbar-item navbar-heading">Starter Apps</span>
            <a class="navbar-item" href="../../docs/2.0.0-RC2/starters/helloworld.html">Hello World</a>
            <a class="navbar-item" href="../../docs/2.0.0-RC2/starters/simpleapp.html">Simple App</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Learning &amp; Tutorials</span>
            <a class="navbar-item" href="../../docs/2.0.0-RC2/reference/about.html">Reference App</a>
            <a class="navbar-item" href="https://danhaywood.gitlab.io/isis-petclinic-tutorial-docs/petclinic/1.16.2/intro.html">Petclinic</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Resources</span>
            <a class="navbar-item" href="../../docs/2.0.0-RC2/resources/cheatsheet.html">Cheatsheet</a>
            <a class="navbar-item" href="../../docs/2.0.0-RC2/resources/icons.html">Icons</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Guides</a>
          <div class="navbar-dropdown">
            <span class="navbar-item navbar-heading">Core</span>
            <a class="navbar-item" href="../../userguide/2.0.0-RC2/about.html">User Guide</a>
            <a class="navbar-item" href="../../refguide/2.0.0-RC2/about.html">Reference Guide</a>
            <a class="navbar-item" href="../../testing/2.0.0-RC2/about.html">Testing Guide</a>
            <a class="navbar-item" href="../../security/2.0.0-RC2/about.html">Security Guide</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">For use in apps</span>
            <a class="navbar-item" href="../../valuetypes/2.0.0-RC2/about.html">Value Types</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Development</span>
            <a class="navbar-item" href="../../setupguide/2.0.0-RC2/about.html">Setup Guide</a>
            <a class="navbar-item" href="../../conguide/2.0.0-RC2/about.html">Contributors' Guide</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Components</a>
          <div class="navbar-dropdown">
            <span class="navbar-item navbar-heading">Security</span>
            <a class="navbar-item" href="../../security/2.0.0-RC2/bypass/about.html">Bypass</a>
            <a class="navbar-item" href="../../security/2.0.0-RC2/shiro/about.html">Shiro</a>
            <a class="navbar-item" href="../../security/2.0.0-RC2/spring/about.html">Spring</a>
            <a class="navbar-item" href="../../security/2.0.0-RC2/keycloak/about.html">Keycloak</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Viewers</span>
            <a class="navbar-item" href="../../vw/2.0.0-RC2/about.html">Web UI (Wicket)</a>
            <a class="navbar-item" href="../../vro/2.0.0-RC2/about.html">REST API (Restful Objects)</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Persistence</span>
            <a class="navbar-item" href="../../pjpa/2.0.0-RC2/about.html">JPA (EclipseLink)</a>
            <a class="navbar-item" href="../../pjdo/2.0.0-RC2/about.html">JDO (DataNucleus)</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Extensions</a>
          <div class="navbar-dropdown">
            <span class="navbar-item navbar-heading">Core</span>
            <a class="navbar-item" href="../../userguide/2.0.0-RC2/commandlog/about.html">Command Log</a>
            <a class="navbar-item" href="../../userguide/2.0.0-RC2/docgen/about.html">Doc Gen</a>
            <a class="navbar-item" href="../../userguide/2.0.0-RC2/executionlog/about.html">Execution Log</a>
            <a class="navbar-item" href="../../userguide/2.0.0-RC2/executionoutbox/about.html">Execution Outbox</a>
            <a class="navbar-item" href="../../userguide/2.0.0-RC2/executionrepublisher/about.html">Execution Republisher</a>
            <a class="navbar-item" href="../../userguide/2.0.0-RC2/excel/about.html">Excel</a>
            <a class="navbar-item" href="../../userguide/2.0.0-RC2/flyway/about.html">Flyway</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Security</span>
            <a class="navbar-item" href="../../security/2.0.0-RC2/secman/about.html">Secman</a>
            <a class="navbar-item" href="../../security/2.0.0-RC2/audittrail/about.html">Audit Trail</a>
            <a class="navbar-item" href="../../security/2.0.0-RC2/spring-oauth2/about.html">Spring OAuth2 Integration</a>
            <a class="navbar-item" href="../../security/2.0.0-RC2/shiro-realm-ldap/about.html">LDAP Realm for Shiro</a>
            <a class="navbar-item" href="../../security/2.0.0-RC2/sessionlog/about.html">Session Log</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Web UI (Wicket)</span>
            <a class="navbar-item" href="../../vw/2.0.0-RC2/exceldownload/about.html">Excel Download</a>
            <a class="navbar-item" href="../../vw/2.0.0-RC2/fullcalendar/about.html">Full Calendar</a>
            <a class="navbar-item" href="../../vw/2.0.0-RC2/pdfjs/about.html">pdf.js</a>
            <a class="navbar-item" href="../../vw/2.0.0-RC2/sse/about.html">Server Side Events</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">REST API (Restful Objects)</span>
            <a class="navbar-item" href="../../vro/2.0.0-RC2/cors/about.html">CORS</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Support</a>
          <div class="navbar-dropdown">
            <span class="navbar-item navbar-heading">Contact</span>
            <a class="navbar-item" href="../../docs/2.0.0-RC2/support/slack-channel.html">Slack</a>
            <a class="navbar-item" href="../../docs/2.0.0-RC2/support/mailing-list.html">Mailing Lists</a>
            <a class="navbar-item" href="https://issues.apache.org/jira/browse/CAUSEWAY">JIRA</a>
            <a class="navbar-item" href="https://stackoverflow.com/questions/tagged/causeway">Stack Overflow</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Releases</span>
            <a class="navbar-item" href="../../docs/2.0.0-RC2/downloads/how-to.html">Downloads</a>
            <a class="navbar-item" href="../../relnotes/2.0.0-RC2/about.html">Release Notes</a>
            <hr class="navbar-divider"/>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Framework</a>
          <div class="navbar-dropdown">
            <span class="navbar-item navbar-heading">Process</span>
            <a class="navbar-item" href="../../comguide/2.0.0-RC2/about.html">Committers' Guide</a>
            <a class="navbar-item" href="../../tooling/2.0.0-RC2/about.html">Tooling</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Automated Analysis</span>
            <a class="navbar-item" href="https://sonarcloud.io/dashboard?id=apache_isis">SonarCloud.io</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Interim Builds</span>
            <a class="navbar-item" href="../../comguide/2.0.0-RC2/nightly-builds.html">Nightly builds</a>
            <a class="navbar-item" href="../../comguide/2.0.0-RC2/weekly-builds.html">Weekly builds</a>
            <a class="navbar-item" href="https://apache-causeway-committers.github.io/causeway-nightly">Website Preview (not ASF hosted)</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Development</span>
            <a class="navbar-item" href="../../core/2.0.0-RC2/about.html">Internal Design Docs</a>
            <a class="navbar-item" href="../../regressiontests/2.0.0-RC2/about.html">Regression Tests</a>
            <a class="navbar-item" href="../../incubator/2.0.0-RC2/about.html">Incubator</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Thanks</span>
            <a class="navbar-item" href="../../more-thanks/2.0.0-RC2/more-thanks.html">Acknowledgements</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">ASF</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="http://www.apache.org/">Apache Homepage</a>
            <a class="navbar-item" href="https://www.apache.org/events/current-event">Events</a>
            <a class="navbar-item" href="https://www.apache.org/licenses/">Licenses</a>
            <a class="navbar-item" href="https://www.apache.org/security/">Security</a>
            <a class="navbar-item" href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a>
            <a class="navbar-item" href="https://www.apache.org/foundation/thanks.html">Thanks</a>
            <hr class="navbar-divider"/>
            <a class="navbar-item" href="https://whimsy.apache.org/board/minutes/Causeway.html">PMC board minutes</a>
          </div>
        </div>
        <a class="navbar-item" href="../../docs/2.0.0-RC2/about.html">
          <span class="icon">
            <img src="../../_/img/home.png"></img>
          </span>
        </a>
      </div>
    </div>
  </nav>
</header>
<div class="body ">
<div class="nav-container" data-component="vro" data-version="2.0.0-RC2">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-search hide-for-print">
  <input id="algolia-search-input" placeholder="Search"></span>
</div>
<div class="nav-panel-pagination">
  <a class="page-previous" rel="prev" href="ro-spec.html" title="RO Spec"><span></span></a>
  <a class="page-next" rel="next"
     href="content-negotiation/apache-causeway-v2-profile.html" title="Apache Causeway v2 Profile"><span></span></a>
<!--
page.parent doesn't seem to be set...
  <a class="page-parent disabled" rel="prev" href="" title="RO Spec"><span></span></a>
-->
</div>
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="about.html">REST API (Restful Objects Viewer)</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="setup-and-configuration.html">Setup and Configuration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="ro-spec.html">RO Spec</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="content-negotiation.html">Content Negotiation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="content-negotiation/apache-causeway-v2-profile.html">Apache Causeway v2 Profile</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="content-negotiation/other-representations.html">Other Representations</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="security.html">Security</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="layout-resources.html">Layout Resources</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="client.html">Client</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="hints-and-tips.html">Hints-n-Tips</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Extensions</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cors/about.html">CORS</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">REST API (Restful Objects Viewer)</span>
    <span class="version">2.0.0-RC2</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title"> </span>
      <ul class="versions">
        <li class="version">
          <a href="../../docs/2.0.0-RC2/about.html">2.0.0-RC2</a>
        </li>
        <li class="version">
          <a href="../../docs/2.0.0-RC1/about.html">2.0.0-RC1</a>
        </li>
        <li class="version">
          <a href="../../docs/2.0.0-M7/about.html">2.0.0-M7</a>
        </li>
        <li class="version">
          <a href="../../docs/2.0.0-M6/about.html">2.0.0-M6</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Committers' Guide</span>
      <ul class="versions">
        <li class="version">
          <a href="../../comguide/2.0.0-RC2/about.html">2.0.0-RC2</a>
        </li>
        <li class="version">
          <a href="../../comguide/2.0.0-RC1/about.html">2.0.0-RC1</a>
        </li>
        <li class="version">
          <a href="../../comguide/2.0.0-M7/about.html">2.0.0-M7</a>
        </li>
        <li class="version">
          <a href="../../comguide/2.0.0-M6/about.html">2.0.0-M6</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Contributors' Guide</span>
      <ul class="versions">
        <li class="version">
          <a href="../../conguide/2.0.0-RC2/about.html">2.0.0-RC2</a>
        </li>
        <li class="version">
          <a href="../../conguide/2.0.0-RC1/about.html">2.0.0-RC1</a>
        </li>
        <li class="version">
          <a href="../../conguide/2.0.0-M7/about.html">2.0.0-M7</a>
        </li>
        <li class="version">
          <a href="../../conguide/2.0.0-M6/about.html">2.0.0-M6</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Design Docs</span>
      <ul class="versions">
        <li class="version">
          <a href="../../core/2.0.0-RC2/about.html">2.0.0-RC2</a>
        </li>
        <li class="version">
          <a href="../../core/2.0.0-RC1/about.html">2.0.0-RC1</a>
        </li>
        <li class="version">
          <a href="../../core/2.0.0-M7/about.html">2.0.0-M7</a>
        </li>
        <li class="version">
          <a href="../../core/2.0.0-M6/about.html">2.0.0-M6</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Extensions</span>
      <ul class="versions">
        <li class="version">
          <a href="../../extensions/2.0.0-RC2/about.html">2.0.0-RC2</a>
        </li>
        <li class="version">
          <a href="../../extensions/2.0.0-RC1/about.html">2.0.0-RC1</a>
        </li>
        <li class="version">
          <a href="../../extensions/2.0.0-M7/about.html">2.0.0-M7</a>
        </li>
        <li class="version">
          <a href="../../extensions/2.0.0-M6/about.html">2.0.0-M6</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Incubator Catalog</span>
      <ul class="versions">
        <li class="version">
          <a href="../../incubator/2.0.0-RC2/about.html">2.0.0-RC2</a>
        </li>
        <li class="version">
          <a href="../../incubator/2.0.0-RC1/about.html">2.0.0-RC1</a>
        </li>
        <li class="version">
          <a href="../../incubator/2.0.0-M7/about.html">2.0.0-M7</a>
        </li>
        <li class="version">
          <a href="../../incubator/2.0.0-M6/about.html">2.0.0-M6</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">JDO/DataNucleus</span>
      <ul class="versions">
        <li class="version">
          <a href="../../pjdo/2.0.0-RC2/about.html">2.0.0-RC2</a>
        </li>
        <li class="version">
          <a href="../../pjdo/2.0.0-RC1/about.html">2.0.0-RC1</a>
        </li>
        <li class="version">
          <a href="../../pjdo/2.0.0-M7/about.html">2.0.0-M7</a>
        </li>
        <li class="version">
          <a href="../../pjdo/2.0.0-M6/about.html">2.0.0-M6</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">JPA</span>
      <ul class="versions">
        <li class="version">
          <a href="../../pjpa/2.0.0-RC2/about.html">2.0.0-RC2</a>
        </li>
        <li class="version">
          <a href="../../pjpa/2.0.0-RC1/about.html">2.0.0-RC1</a>
        </li>
        <li class="version">
          <a href="../../pjpa/2.0.0-M7/about.html">2.0.0-M7</a>
        </li>
        <li class="version">
          <a href="../../pjpa/2.0.0-M6/about.html">2.0.0-M6</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Reference Guide</span>
      <ul class="versions">
        <li class="version">
          <a href="../../refguide/2.0.0-RC2/about.html">2.0.0-RC2</a>
        </li>
        <li class="version">
          <a href="../../refguide/2.0.0-RC1/about.html">2.0.0-RC1</a>
        </li>
        <li class="version">
          <a href="../../refguide/2.0.0-M7/about.html">2.0.0-M7</a>
        </li>
        <li class="version">
          <a href="../../refguide/2.0.0-M6/about.html">2.0.0-M6</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">regressiontests</span>
      <ul class="versions">
        <li class="version">
          <a href="../../regressiontests/2.0.0-RC2/index.html">2.0.0-RC2</a>
        </li>
        <li class="version">
          <a href="../../regressiontests/2.0.0-RC1/index.html">2.0.0-RC1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Release Notes</span>
      <ul class="versions">
        <li class="version">
          <a href="../../relnotes/2.0.0-RC2/about.html">2.0.0-RC2</a>
        </li>
        <li class="version">
          <a href="../../relnotes/2.0.0-RC1/about.html">2.0.0-RC1</a>
        </li>
        <li class="version">
          <a href="../../relnotes/2.0.0-M7/about.html">2.0.0-M7</a>
        </li>
        <li class="version">
          <a href="../../relnotes/2.0.0-M6/about.html">2.0.0-M6</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">REST API (Restful Objects Viewer)</span>
      <ul class="versions">
        <li class="version is-current">
          <a href="about.html">2.0.0-RC2</a>
        </li>
        <li class="version">
          <a href="../2.0.0-RC1/about.html">2.0.0-RC1</a>
        </li>
        <li class="version">
          <a href="../2.0.0-M7/about.html">2.0.0-M7</a>
        </li>
        <li class="version">
          <a href="../2.0.0-M6/about.html">2.0.0-M6</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Security Guide</span>
      <ul class="versions">
        <li class="version">
          <a href="../../security/2.0.0-RC2/about.html">2.0.0-RC2</a>
        </li>
        <li class="version">
          <a href="../../security/2.0.0-RC1/about.html">2.0.0-RC1</a>
        </li>
        <li class="version">
          <a href="../../security/2.0.0-M7/about.html">2.0.0-M7</a>
        </li>
        <li class="version">
          <a href="../../security/2.0.0-M6/about.html">2.0.0-M6</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Setup Guide</span>
      <ul class="versions">
        <li class="version">
          <a href="../../setupguide/2.0.0-RC2/about.html">2.0.0-RC2</a>
        </li>
        <li class="version">
          <a href="../../setupguide/2.0.0-RC1/about.html">2.0.0-RC1</a>
        </li>
        <li class="version">
          <a href="../../setupguide/2.0.0-M7/about.html">2.0.0-M7</a>
        </li>
        <li class="version">
          <a href="../../setupguide/2.0.0-M6/about.html">2.0.0-M6</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Testing Guide</span>
      <ul class="versions">
        <li class="version">
          <a href="../../testing/2.0.0-RC2/about.html">2.0.0-RC2</a>
        </li>
        <li class="version">
          <a href="../../testing/2.0.0-RC1/about.html">2.0.0-RC1</a>
        </li>
        <li class="version">
          <a href="../../testing/2.0.0-M7/about.html">2.0.0-M7</a>
        </li>
        <li class="version">
          <a href="../../testing/2.0.0-M6/about.html">2.0.0-M6</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Tooling</span>
      <ul class="versions">
        <li class="version">
          <a href="../../tooling/2.0.0-RC2/about.html">2.0.0-RC2</a>
        </li>
        <li class="version">
          <a href="../../tooling/2.0.0-RC1/about.html">2.0.0-RC1</a>
        </li>
        <li class="version">
          <a href="../../tooling/2.0.0-M7/about.html">2.0.0-M7</a>
        </li>
        <li class="version">
          <a href="../../tooling/2.0.0-M6/about.html">2.0.0-M6</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Tutorials</span>
      <ul class="versions">
        <li class="version">
          <a href="../../tutorials/2.0.0-RC2/about.html">2.0.0-RC2</a>
        </li>
        <li class="version">
          <a href="../../tutorials/2.0.0-RC1/about.html">2.0.0-RC1</a>
        </li>
        <li class="version">
          <a href="../../tutorials/2.0.0-M7/about.html">2.0.0-M7</a>
        </li>
        <li class="version">
          <a href="../../tutorials/2.0.0-M6/about.html">2.0.0-M6</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">User Guide</span>
      <ul class="versions">
        <li class="version">
          <a href="../../userguide/2.0.0-RC2/about.html">2.0.0-RC2</a>
        </li>
        <li class="version">
          <a href="../../userguide/2.0.0-RC1/about.html">2.0.0-RC1</a>
        </li>
        <li class="version">
          <a href="../../userguide/2.0.0-M7/about.html">2.0.0-M7</a>
        </li>
        <li class="version">
          <a href="../../userguide/2.0.0-M6/about.html">2.0.0-M6</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Value Types Catalog</span>
      <ul class="versions">
        <li class="version">
          <a href="../../valuetypes/2.0.0-RC2/about.html">2.0.0-RC2</a>
        </li>
        <li class="version">
          <a href="../../valuetypes/2.0.0-RC1/about.html">2.0.0-RC1</a>
        </li>
        <li class="version">
          <a href="../../valuetypes/2.0.0-M7/about.html">2.0.0-M7</a>
        </li>
        <li class="version">
          <a href="../../valuetypes/2.0.0-M6/about.html">2.0.0-M6</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Web UI (Wicket Viewer)</span>
      <ul class="versions">
        <li class="version">
          <a href="../../vw/2.0.0-RC2/about.html">2.0.0-RC2</a>
        </li>
        <li class="version">
          <a href="../../vw/2.0.0-RC1/about.html">2.0.0-RC1</a>
        </li>
        <li class="version">
          <a href="../../vw/2.0.0-M7/about.html">2.0.0-M7</a>
        </li>
        <li class="version">
          <a href="../../vw/2.0.0-M6/about.html">2.0.0-M6</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main role="main">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../docs/2.0.0-RC2/about.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="about.html">REST API (Restful Objects Viewer)</a></li>
    <li><a href="content-negotiation.html">Content Negotiation</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">2.0.0-RC2</button>
  <div class="version-menu">
    <a class="version is-current" href="content-negotiation.html">2.0.0-RC2</a>
    <a class="version" href="../2.0.0-RC1/content-negotiation.html">2.0.0-RC1</a>
    <a class="version" href="../2.0.0-M7/content-negotiation.html">2.0.0-M7</a>
    <a class="version" href="../2.0.0-M6/content-negotiation.html">2.0.0-M6</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/apache/causeway/edit/2.0.0-RC2/viewers/restfulobjects/adoc/modules/ROOT/pages/content-negotiation.adoc">Edit</a></div>
</div>
<article class="doc">
    <a name="section-top"></a>
<h1 class="page">Content Negotiation</h1>
<div class="paragraph">
<p>The <a href="about.html" class="xref page">RestfulObjects viewer</a> implements the <a href="http://restfulobjects.org">Restful Object spec</a>, meaning that it defines a well-defined set of endpoint URLs as resources, and generates a well-defined set of (JSON) representations when these resources are accessed.</p>
</div>
<div class="paragraph">
<p>By default, the Restful Objects viewer will automatically handle requests and return representations according to the RO spec.
However, its internal architecture provides the <a href="../../refguide/2.0.0-RC2/viewer/index/restfulobjects/rendering/service/conneg/ContentNegotiationService.html" class="xref page">ContentNegotiationService</a> SPI to allow alternative representations to be returned based on the standard HTTP <code>Accept</code> header.
In response, the server uses the <code>Content-Type</code> header which the client can use to know how to process the returned representation.</p>
</div>
<div class="paragraph">
<p>The principal motivation is to allow more flexible representations to be generated for REST clients that (perhaps through their use of a certain JavaScript library, say) expect, or at least works best with, a certain style of representation.</p>
</div>
<div class="paragraph">
<p>Another use case is to support "third party" REST clients over which you have no control.
In this scenario you <em>must not</em> naively expose entities through the RO viewer, because over time those entities will inevitably evolve and change their structure.
If the entities were exposed directly then those REST clients will break.</p>
</div>
<div class="paragraph">
<p>Instead you need to create some sort of stable facade over your domain entities, one which you will preserve even if the domain entities change.
There are three ways in which you can do this:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>first is to solve the problem at the domain layer by defining a regular Apache Causeway <a href="../../userguide/2.0.0-RC2/view-models.html" class="xref page">view model</a>.
This is then surfaced by the RO viewer.</p>
<div class="paragraph">
<p>If the underlying entities change, then care must be taken to ensure that structure of the view model nevertheless is unchanged.</p>
</div>
</li>
<li>
<p>a second option is to solve the problem at the persistence layer, by defining a (SQL) view in the database.
Again this is surfaced by the RO viewer.</p>
<div class="paragraph">
<p>If the underlying tables change (as the result of a change in their corresponding domain entities) then the SQL view must be refactored so that it still presents the same structure.</p>
</div>
</li>
<li>
<p>our third option is to solve the problem at the presentation layer, using the <code>ContentNegotiationService</code> described in this section.</p>
<div class="paragraph">
<p>The <code>ContentNegotiationService</code> is responsible for inspecting the HTTP <code>Accept</code> header, and use this to select the correct representation to render.</p>
</div>
<div class="paragraph">
<p>The Apache Causeway framework provides three implementations of <code>ContentNegotiationService</code> which inspects different elements of the HTTP <code>Accept</code> header.
One of these implementations, <code>ContentNegotiationServiceXRoDomainType</code> will further delegate down to the companion <a href="../../refguide/2.0.0-RC2/applib/index/services/conmap/ContentMappingService.html" class="xref page">ContentMappingService</a> service (if configured/available), based on the value of the "x-ro-domain-type" parameter of the header.</p>
</div>
<div class="paragraph">
<p>A typical implementation of <code>ContentMappingService</code> will convert the domain object into some sort of DTO (data transfer object) as specified by the "x-ro-domaintype".
If this DTO is annotated with JAXB or Jackson mappings, then the RO viewer (courtesy of the underlying <a href="http://resteasy.jboss.org/">RestEasy</a> framework) can serialize these directly.</p>
</div>
<div class="paragraph">
<p>What all that means is that, if the underlying entities change, we are required to update the mappings in the <code>ContentMappingService</code> to map to the same DTOs.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>This diagram illustrates the three options available:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/restfulobjects/facade-choices.png" alt="facade choices" width="700px">
</div>
</div>
<div class="paragraph">
<p>Here we focus on implementing a facade at the viewer (presentation) layer:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../../refguide/2.0.0-RC2/viewer/index/restfulobjects/rendering/service/conneg/ContentNegotiationService.html" class="xref page">ContentNegotiationService</a></p>
<div class="paragraph">
<p>As noted above, there can be multiple implementations of the
<a href="../../refguide/2.0.0-RC2/viewer/index/restfulobjects/rendering/service/conneg/ContentNegotiationService.html" class="xref page">ContentNegotiationService</a>, each one handling a particular HTTP <code>Accept</code> header.
If the implementation does not recognize the value of the header, if can simply return <code>null</code>.</p>
</div>
<div class="paragraph">
<p>The framework provides a number of implementations; an implementation that handles the
<a href="content-negotiation/apache-causeway-v2-profile.html" class="xref page">simplified representation</a> of the Apache Causeway profile; an implementation that provides support for the <code>x-ro-domain-type</code> parameter, and a default/fallback implementation that returns the representations defined by the RO spec.</p>
</div>
</li>
<li>
<p><a href="../../refguide/2.0.0-RC2/applib/index/services/conmap/ContentMappingService.html" class="xref page">ContentMappingService</a></p>
<div class="paragraph">
<p>The <a href="../../refguide/2.0.0-RC2/applib/index/services/conmap/ContentMappingService.html" class="xref page">ContentMappingService</a> is used by the implementation of
<a href="../../refguide/2.0.0-RC2/viewer/index/restfulobjects/rendering/service/conneg/ContentNegotiationService.html" class="xref page">ContentNegotiationService</a> that recognizes the <code>x-ro-domain-type</code>, its role being to transform a domain object (usually an entity) into some other form (usually a DTO), as specified by the <code>x-ro-domain-type</code> parameter.
There can be many such implementations, each handling a different target domain type.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>This diagram shows how these services collaborate:</p>
</div>
<div class="imageblock kroki">
<div class="content">
<object type="image/svg+xml" data="_images/diag-88f55ba38455a24f56777f6aba44239d04247336.svg"><span class="alt">Diagram</span></object>
</div>
</div>
<div class="paragraph">
<p>Taken together these domain services offer a lot of flexibility in terms of the representations that can be generated from the RestfulObjects viewer.</p>
</div>
<div class="paragraph">
<p>For further details, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../../refguide/2.0.0-RC2/viewer/index/restfulobjects/rendering/service/conneg/ContentNegotiationService.html" class="xref page">ContentNegotiationService</a></p>
</li>
<li>
<p><a href="../../refguide/2.0.0-RC2/viewer/index/restfulobjects/rendering/service/conneg/ContentNegotiationServiceForRestfulObjectsV1_0.html" class="xref page">ContentNegotiationServiceForRestfulObjectsV1_0</a></p>
</li>
<li>
<p><a href="../../refguide/2.0.0-RC2/viewer/index/restfulobjects/rendering/service/conneg/ContentNegotiationServiceXRoDomainType.html" class="xref page">ContentNegotiationServiceXRoDomainType</a></p>
</li>
<li>
<p><a href="../../refguide/2.0.0-RC2/viewer/index/restfulobjects/rendering/service/conneg/ContentNegotiationServiceOrgApacheIsisV1.html" class="xref page">ContentNegotiationServiceOrgApacheIsisV1</a></p>
</li>
<li>
<p><a href="../../refguide/2.0.0-RC2/viewer/index/restfulobjects/rendering/service/conneg/ContentNegotiationServiceOrgApacheCausewayV2.html" class="xref page">ContentNegotiationServiceOrgApacheCausewayV2</a></p>
</li>
</ul>
</div>
</article>
<aside class="article-aside toc hide-for-print" role="navigation">
    <p class="toc-title">On this page</p>
    <div id="article-toc"></div>
</aside>
</main>
</div>
<footer class="footer">
    <div class="content">
        <div class="copyright">
            <p>
                Copyright © 2010~2023 The Apache Software Foundation, licensed under the Apache License, v2.0.
                <br/>
                Apache, the Apache feather logo, Apache Causeway, and the Apache Causeway project logo are all trademarks of The Apache Software Foundation.
            </p>
        </div>
        <div class="revision">
            <p>Revision: release-2.0.0-RC2-RC1.20230714-1107</p>
        </div>
    </div>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script src="../../_/js/vendor/jquery-3.4.1.min.js"></script>
<script src="../../_/js/vendor/jquery-ui-1.12.1.custom.widget-only.min.js"></script>
<script src="../../_/js/vendor/jquery.tocify.min.js"></script>

<script>
    $(function() {
        $("#article-toc").tocify( {
            showEffect: "slideDown",
            hashGenerator: "pretty",
            hideEffect: "slideUp",
            selectors: "h2, h3",
            scrollTo: 120,
            smoothScroll: true,
            theme: "jqueryui",
            highlightOnScroll: true
        } );
    });
</script>

<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script>
  function focusSearchInput () { document.querySelector('#algolia-search-input').focus() }
  var search = docsearch({
    appId: '5ISP5TFAEN',
    apiKey: '0fc51c28b4ad46e7318e96d4e97fab7c',
    indexName: 'causeway-apache-org',
    inputSelector: '#algolia-search-input',
    autocompleteOptions: { hint: false, keyboardShortcuts: ['s'] },
    debug: false,
  }).autocomplete
  search.on('autocomplete:closed', function () { search.autocomplete.setVal() })
  focusSearchInput()
  window.addEventListener('load', focusSearchInput);
</script>

<!--
  docsearch options:
  https://docsearch.algolia.com/docs/behavior/
-->
<!--
  https://www.algolia.com/doc/api-reference/api-parameters/
  algoliaOptions: { hitsPerPage: 6 },
-->
  </body>
</html>
